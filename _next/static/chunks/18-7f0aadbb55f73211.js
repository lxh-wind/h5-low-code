"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[18],{10068:(e,t,n)=>{n.d(t,{R:()=>s,U:()=>l});var r=n(88693),o=n(46786),a=n(53999);class i{buildTree(e){this.nodes.clear(),this.rootNodes=[],e.forEach(e=>{var t;let n={id:e.id,type:e.type,name:e.name,component:e,children:[],depth:0,isVisible:!0,isExpanded:null==(t=this.expandedState.get(e.id))||t};this.nodes.set(e.id,n)}),e.forEach(e=>{let t=this.nodes.get(e.id);if(e.parentId){let n=this.nodes.get(e.parentId);n&&(t.parent=n,t.depth=n.depth+1,n.children.push(t))}else this.rootNodes.push(t)}),this.updateVisibility()}updateVisibility(){let e=t=>{var n;let r=!t.parent||t.parent.isVisible&&t.parent.isExpanded,o=!(null==(n=t.component.style)?void 0:n.display)||"none"!==t.component.style.display;t.isVisible=r&&o,t.children.forEach(e)};this.rootNodes.forEach(e)}getRootNodes(){return this.rootNodes}getNode(e){return this.nodes.get(e)}getVisibleNodes(){let e=[],t=n=>{n.forEach(n=>{n.isVisible&&(e.push(n),n.isExpanded&&t(n.children))})};return t(this.rootNodes),e}moveNode(e,t,n){let r=this.nodes.get(e),o=this.nodes.get(t);if(!r||!o||this.isDescendant(r,o))return this.toComponentArray();switch(this.removeNodeFromParent(r),n){case"inside":r.parent=o,r.depth=o.depth+1,o.children.push(r);break;case"before":case"after":{let e=o.parent,t=e?e.children:this.rootNodes,a=t.indexOf(o);r.parent=e,r.depth=e?e.depth+1:0,t.splice("before"===n?a:a+1,0,r)}}return this.updateVisibility(),this.toComponentArray()}toggleExpanded(e){let t=this.nodes.get(e);t&&(t.isExpanded=!t.isExpanded,this.expandedState.set(e,t.isExpanded),this.updateVisibility())}getExpandedState(){return new Map(this.expandedState)}deleteNode(e){let t=this.nodes.get(e);return t&&(this.removeNodeFromParent(t),this.removeNodeFromMap(t)),this.toComponentArray()}removeNodeFromParent(e){if(e.parent){let t=e.parent.children.indexOf(e);t>-1&&e.parent.children.splice(t,1)}else{let t=this.rootNodes.indexOf(e);t>-1&&this.rootNodes.splice(t,1)}}removeNodeFromMap(e){this.nodes.delete(e.id),e.children.forEach(e=>this.removeNodeFromMap(e))}isDescendant(e,t){let n=t.parent;for(;n;){if(n===e)return!0;n=n.parent}return!1}toComponentArray(){let e=[],t=n=>{n.forEach(n=>{var r;let o={...n.component,parentId:null==(r=n.parent)?void 0:r.id};e.push(o),t(n.children)})};return t(this.rootNodes),e}updateComponent(e,t){let n=this.nodes.get(e);return n&&(n.component={...n.component,...t},t.style&&this.updateVisibility()),this.toComponentArray()}constructor(e,t){this.nodes=new Map,this.rootNodes=[],this.expandedState=new Map,t&&(this.expandedState=new Map(t)),this.buildTree(e)}}let s=[{id:"iphone14pro",name:"iPhone 14 Pro",width:393,height:852,safeAreaTop:59,safeAreaBottom:34,hasNotch:!0},{id:"iphone14",name:"iPhone 14",width:390,height:844,safeAreaTop:47,safeAreaBottom:34,hasNotch:!0},{id:"iphonese",name:"iPhone SE",width:375,height:667,safeAreaTop:20,safeAreaBottom:0,hasNotch:!1},{id:"xiaomi13",name:"小米 13",width:393,height:851,safeAreaTop:47,safeAreaBottom:24,hasNotch:!0},{id:"huaweip60",name:"华为 P60",width:393,height:852,safeAreaTop:44,safeAreaBottom:24,hasNotch:!0}],l=(0,r.vt)()((0,o.eh)((e,t)=>({currentProject:null,currentPage:null,treeManager:null,components:[],selectedComponentId:null,hoveredComponentId:null,history:[[]],historyIndex:0,isDragging:!1,previewMode:!1,currentDevice:s[1],autoSave:!1,setCurrentProject:t=>e({currentProject:t}),setCurrentPage:t=>{let n=new i(t.components);e({currentPage:t,components:t.components,treeManager:n,selectedComponentId:null,hoveredComponentId:null})},updatePageConfig:n=>{let{currentPage:r}=t();r&&e({currentPage:{...r,config:{...r.config,...n},updatedAt:new Date}})},updatePageSEO:n=>{let{currentPage:r}=t();r&&e({currentPage:{...r,seo:{...r.seo,...n},updatedAt:new Date}})},updatePageInfo:n=>{let{currentPage:r}=t();r&&e({currentPage:{...r,...n,updatedAt:new Date}})},setComponents:n=>{let r=new i(n);e({components:n,treeManager:r}),t().saveToHistory()},addComponent:(n,r,o)=>{let{components:a,generateUniqueId:s}=t(),l={...n,id:s(),parentId:r||void 0},d=[...a];if(r){let e=t=>t.map(t=>{if(t.id===r){let e=t.children||[],n=void 0!==o?o:e.length;return{...t,children:[...e.slice(0,n),l,...e.slice(n)]}}return t.children?{...t,children:e(t.children)}:t});d=e(d)}else{let e=void 0!==o?o:d.length;d=[...d.slice(0,e),l,...d.slice(e)]}let{treeManager:c}=t(),h=new i(d,null==c?void 0:c.getExpandedState());e({components:d,treeManager:h,selectedComponentId:l.id}),t().saveToHistory()},updateComponent:(n,r)=>{let{treeManager:o}=t();if(o){let a=o.updateComponent(n,r),s=new i(a,o.getExpandedState());e({components:a,treeManager:s}),t().saveToHistory()}else{let{components:o}=t(),a=e=>e.map(e=>e.id===n?{...e,...r}:e.children?{...e,children:a(e.children)}:e),s=a(o),{treeManager:l}=t(),d=new i(s,null==l?void 0:l.getExpandedState());e({components:s,treeManager:d}),t().saveToHistory()}},deleteComponent:n=>{let{treeManager:r}=t();if(r){let o=r.deleteNode(n),a=new i(o,r.getExpandedState());e({components:o,treeManager:a,selectedComponentId:null}),t().saveToHistory()}else{let{components:r}=t(),o=e=>e.filter(e=>e.id!==n).map(e=>({...e,children:e.children?o(e.children):void 0})),a=o(r),s=new i(a);e({components:a,treeManager:s,selectedComponentId:null}),t().saveToHistory()}},selectComponent:t=>e({selectedComponentId:t}),setHoveredComponent:t=>e({hoveredComponentId:t}),moveComponent:(n,r,o)=>{let{treeManager:a}=t();if(a){let s=a.moveNode(n,r,o),l=new i(s,a.getExpandedState());e({components:s,treeManager:l}),t().saveToHistory()}else{let{components:a}=t(),s=(e,t)=>{for(let n=0;n<e.length;n++){if(e[n].id===t)return{component:e[n],newComps:[...e.slice(0,n),...e.slice(n+1)]};if(e[n].children){let r=s(e[n].children||[],t);if(r.component){let t=[...e];return t[n]={...t[n],children:r.newComps},{component:r.component,newComps:t}}}}return{component:null,newComps:e}},l=(e,t,n,r)=>{for(let o=0;o<e.length;o++){if(e[o].id===t)if("inside"===r){let r=e[o].children||[];return[...e.slice(0,o),{...e[o],children:[...r,{...n,parentId:t}]},...e.slice(o+1)]}else if("before"===r)return[...e.slice(0,o),{...n,parentId:e[o].parentId},...e.slice(o)];else return[...e.slice(0,o+1),{...n,parentId:e[o].parentId},...e.slice(o+1)];if(e[o].children){let a=l(e[o].children||[],t,n,r);if(a!==e[o].children)return[...e.slice(0,o),{...e[o],children:a},...e.slice(o+1)]}}return e};if(n===r||((e,t,n)=>{let r=(e,t)=>{for(let n of t){if(n.id===e)return n;if(n.children){let t=r(e,n.children);if(t)return t}}return null},o=e=>{if(e===t)return!0;let a=r(e,n);return null!=a&&!!a.children&&a.children.some(e=>o(e.id))};return o(e)})(n,r,a))return;let{component:d,newComps:c}=s(a,n);if(d){let n=l(c,r,d,o),{treeManager:a}=t(),s=new i(n,null==a?void 0:a.getExpandedState());e({components:n,treeManager:s}),t().saveToHistory()}}},undo:()=>{let{history:n,historyIndex:r}=t();if(r>0){let t=r-1,o=n[t],a=new i(o);e({components:o,treeManager:a,historyIndex:t,selectedComponentId:null})}},redo:()=>{let{history:n,historyIndex:r}=t();if(r<n.length-1){let t=r+1,o=n[t],a=new i(o);e({components:o,treeManager:a,historyIndex:t,selectedComponentId:null})}},canUndo:()=>t().historyIndex>0,canRedo:()=>t().historyIndex<t().history.length-1,saveToHistory:()=>{let{components:n,history:r,historyIndex:o,autoSave:a}=t(),i=r[o];if(i&&JSON.stringify(i)===JSON.stringify(n))return;let s=r.slice(0,o+1);s.push([...n]),s.length>50?s.shift():e({historyIndex:o+1}),e({history:s})},setIsDragging:t=>e({isDragging:t}),setPreviewMode:t=>e({previewMode:t}),setCurrentDevice:t=>e({currentDevice:t}),getComponentById:e=>{let{components:n}=t(),r=t=>{for(let n of t){if(n.id===e)return n;if(n.children){let e=r(n.children);if(e)return e}}return null};return r(n)},getComponentChildren:e=>{let n=t().getComponentById(e);return(null==n?void 0:n.children)||[]},getComponentPath:e=>{let{components:n}=t(),r=[],o=(e,t,n)=>{for(let a of e){let e=[...n,a];if(a.id===t)return r.push(...e),!0;if(a.children&&o(a.children,t,e))return!0}return!1};return o(n,e,[]),r},generateUniqueId:()=>"comp_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),getTreeNodes:()=>{let{treeManager:e}=t();return e?e.getRootNodes():[]},getVisibleTreeNodes:()=>{let{treeManager:e}=t();return e?e.getVisibleNodes():[]},getRootComponents:()=>{let{treeManager:e}=t();if(e){let t=e=>({...e.component,children:e.children.map(t)});return e.getRootNodes().map(t)}{let{components:e}=t(),n=e.filter(e=>!e.parentId),r=t=>e.filter(e=>e.parentId===t).map(e=>({...e,children:r(e.id)}));return n.map(e=>({...e,children:r(e.id)}))}},toggleNodeExpanded:n=>{let{treeManager:r}=t();r&&(r.toggleExpanded(n),e({treeManager:new i(r.toComponentArray(),r.getExpandedState())}))},precompileStyles:()=>{let{components:n}=t(),r=e=>e.map(e=>{let t=(0,a.TU)(e.style),n={...e,className:t};return e.children&&e.children.length>0&&(n.children=r(e.children)),n}),o=r(n),s=new i(o);e({components:o,treeManager:s})},setAutoSave:t=>e({autoSave:t}),copyComponent:n=>{let{components:r,generateUniqueId:o,treeManager:a}=t(),i=t().getComponentById(n);if(!i)return;let s=e=>{let t=o(),n={...e,id:t,parentId:e.parentId};return e.children&&e.children.length>0&&(n.children=e.children.map(e=>s(e))),n},l=s(i);if(i.parentId){let e=t().getComponentById(i.parentId);if(e){let r=(e.children||[]).findIndex(e=>e.id===n);t().addComponent(l,i.parentId,r+1)}}else{let e=r.filter(e=>!e.parentId).findIndex(e=>e.id===n);t().addComponent(l,void 0,e+1)}e({selectedComponentId:l.id})}})))},19142:(e,t,n)=>{n.d(t,{Av:()=>o,Pg:()=>a});var r=n(12115);function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{format:t="24",showSeconds:n=!1,updateInterval:o=1e3}=e,[a,i]=(0,r.useState)(""),[s,l]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{l(!0)},[]),(0,r.useEffect)(()=>{if(!s)return;let e=()=>{let e=new Date;if("12"===t)i(e.toLocaleTimeString("zh-CN",{hour12:!0,hour:"numeric",minute:"2-digit",second:n?"2-digit":void 0}));else{let t=e.getHours().toString().padStart(2,"0"),r=e.getMinutes().toString().padStart(2,"0"),o=e.getSeconds().toString().padStart(2,"0");n?i("".concat(t,":").concat(r,":").concat(o)):i("".concat(t,":").concat(r))}};e();let r=setInterval(e,o);return()=>clearInterval(r)},[t,n,o,s]),s?a:"09:41"}function a(){return o({format:"24",showSeconds:!1})}},48956:(e,t,n)=>{n.d(t,{s:()=>i});var r=n(88693),o=n(46786);let a=()=>"page_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),i=(0,r.vt)()((0,o.Zr)((e,t)=>({pages:[],createPage:(n,r,o)=>{let{pages:i}=t(),s={id:a(),name:n,title:r,description:o,components:[],createdAt:new Date,updatedAt:new Date};return e({pages:[...i,s]}),s},updatePage:(n,r)=>{let{pages:o}=t();e({pages:o.map(e=>e.id===n?{...e,...r,updatedAt:new Date}:e)})},deletePage:n=>{let{pages:r}=t();e({pages:r.filter(e=>e.id!==n)})},getPageById:e=>{let{pages:n}=t();return n.find(t=>t.id===e)||null},duplicatePage:n=>{let{pages:r}=t(),o=r.find(e=>e.id===n);if(!o)return null;let i={...o,id:a(),name:"".concat(o.name," 副本"),title:"".concat(o.title," 副本"),createdAt:new Date,updatedAt:new Date};return e({pages:[...r,i]}),i},generatePageId:a}),{name:"pages-storage",version:1}))},60677:(e,t,n)=>{n.d(t,{Toast:()=>f,ToastProvider:()=>m,useToast:()=>g});var r=n(95155),o=n(12115),a=n(26621),i=n(40646),s=n(54861),l=n(94631),d=n(54416),c=n(53999);let h=(0,o.createContext)(void 0),u={success:{container:"bg-green-50 border-green-200 text-green-800",icon:"text-green-600",close:"text-green-400 hover:text-green-600"},error:{container:"bg-red-50 border-red-200 text-red-800",icon:"text-red-600",close:"text-red-400 hover:text-red-600"},loading:{container:"bg-blue-50 border-blue-200 text-blue-800",icon:"text-blue-600",close:"text-blue-400 hover:text-blue-600"}},p=e=>{let{type:t}=e,n="h-4 w-4 flex-shrink-0";switch(t){case"success":return(0,r.jsx)(i.A,{className:n});case"error":return(0,r.jsx)(s.A,{className:n});case"loading":return(0,r.jsx)(l.A,{className:(0,c.cn)(n,"animate-spin")})}};function m(e){let{children:t,position:n="top-center"}=e,[i,s]=(0,o.useState)([]),l=(0,o.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3,r=Date.now().toString()+Math.random().toString(36).substring(2),o={id:r,message:e,type:t,duration:n};s(e=>[...e,o]),n!==1/0&&setTimeout(()=>{s(e=>e.filter(e=>e.id!==r))},n)},[]),m=(0,o.useCallback)(e=>{s(t=>t.filter(t=>t.id!==e))},[]);return(0,r.jsx)(h.Provider,{value:{showToast:l,dismissToast:m},children:(0,r.jsxs)(a.Kq,{swipeDirection:"right",children:[t,i.map(e=>{let t=u[e.type];return(0,r.jsxs)(a.bL,{duration:e.duration,className:(0,c.cn)("border rounded-lg shadow-md p-3 flex items-center gap-3 data-[state=open]:animate-slideIn data-[state=closed]:animate-hide max-w-sm",t.container),onOpenChange:t=>{t||m(e.id)},children:[(0,r.jsx)(p,{type:e.type}),(0,r.jsx)(a.hE,{className:"text-sm font-medium flex-1 min-w-0 truncate",children:e.message}),(0,r.jsx)(a.bm,{className:(0,c.cn)("transition-colors",t.close),children:(0,r.jsx)(d.A,{className:"h-3 w-3"})})]},e.id)}),(0,r.jsx)(a.LM,{className:(0,c.cn)("fixed flex flex-col gap-2 w-80 max-w-[90vw] m-0 list-none z-[60] outline-none",{"top-center":"top-4 left-1/2 -translate-x-1/2","top-right":"top-4 right-4","bottom-center":"bottom-4 left-1/2 -translate-x-1/2"}[n])})]})})}function g(){let e=(0,o.useContext)(h);if(!e)throw Error("useToast must be used within a ToastProvider");return{success:(t,n)=>e.showToast(t,"success",n),error:(t,n)=>e.showToast(t,"error",n),loading:(t,n)=>e.showToast(t,"loading",null!=n?n:1/0),dismiss:e.dismissToast,toast:e.showToast}}function f(e){let{open:t,onOpenChange:n,type:o,message:i,duration:s=3e3}=e,l=u[o];return(0,r.jsxs)(a.bL,{open:t,onOpenChange:n,duration:s,className:(0,c.cn)("border rounded-lg shadow-md p-3 flex items-center gap-3 data-[state=open]:animate-slideIn data-[state=closed]:animate-hide max-w-sm",l.container),children:[(0,r.jsx)(p,{type:o}),(0,r.jsx)(a.hE,{className:"text-sm font-medium flex-1 min-w-0 truncate",children:i}),(0,r.jsx)(a.bm,{className:(0,c.cn)("transition-colors",l.close),children:(0,r.jsx)(d.A,{className:"h-3 w-3"})})]})}},62978:(e,t,n)=>{n.d(t,{cq:()=>a,bR:()=>i,E0:()=>d,g0:()=>l,f3:()=>h}),n(19142),n(87888);var r=n(12115),o=n(35695);function a(){let e=(0,o.useRouter)(),t=(0,r.useCallback)(()=>{let e="/h5-low-code";return e?"/".concat(e):""},[]),n=(0,r.useCallback)(e=>{if("undefined"!=typeof globalThis&&globalThis.open){let n=window.location.origin,r=t();globalThis.open("".concat(n).concat(r).concat(e),"_blank")}},[t]),a=(0,r.useCallback)(t=>{e.push(t)},[e]),i=(0,r.useCallback)(t=>{e.replace(t)},[e]),s=(0,r.useCallback)(e=>{let n=t();return"".concat(n).concat(e)},[t]),l=(0,r.useCallback)(e=>{let n=t(),r="".concat(n).concat(e);return"".concat(window.location.origin).concat(r)},[t,s]),d=(0,r.useCallback)(()=>window.location.href,[]);return{openInNewTab:n,navigateTo:a,replaceTo:i,getFullUrl:s,getAbsoluteUrl:l,getCurrentAbsoluteUrl:d,goBack:(0,r.useCallback)(()=>{e.back()},[e]),goForward:(0,r.useCallback)(()=>{e.forward()},[e]),basePath:t()}}function i(){let{openInNewTab:e,navigateTo:t,getAbsoluteUrl:n}=a(),o=(0,r.useCallback)(t=>{e(t?"/editor?pageId=".concat(t):"/editor")},[e]),i=(0,r.useCallback)(t=>{e(t?"/preview?pageId=".concat(t):"/preview")},[e]),s=(0,r.useCallback)(()=>{t("/")},[t]),l=(0,r.useCallback)(()=>{t("/HomePage")},[t]),d=(0,r.useCallback)(e=>n(e?"/editor?pageId=".concat(e):"/editor"),[n]);return{openEditor:o,openPreview:i,goToHome:s,goToHomePage:l,getEditorAbsoluteUrl:d,getPreviewAbsoluteUrl:(0,r.useCallback)(e=>n(e?"/preview?pageId=".concat(e):"/preview"),[n]),getHomeAbsoluteUrl:(0,r.useCallback)(()=>n("/"),[n])}}var s=n(10068);function l(){let{currentPage:e,components:t}=(0,s.U)();return(0,r.useMemo)(()=>e?{...e,components:t,updatedAt:new Date}:null,[e,t])}function d(){let e=l();return(0,r.useMemo)(()=>{if(!e)return{componentCount:0,jsonSize:0,hasPage:!1};let t=JSON.stringify(e);return{componentCount:e.components.length,jsonSize:new Blob([t]).size,hasPage:!0,pageName:e.name,pageTitle:e.title}},[e])}var c=n(48956);function h(){let{currentPage:e,components:t}=(0,s.U)(),{updatePage:n}=(0,c.s)();return()=>{if(!e)return!1;try{return n(e.id,{components:t,updatedAt:new Date}),!0}catch(e){return console.error("保存失敗:",e),!1}}}},87888:(e,t,n)=>{n.d(t,{Q:()=>o});var r=n(12115);function o(){let[e,t]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{t(!0)},[]),{isMounted:e,formatRelativeTime:t=>{if(!e)return"刚刚";let n=new Date(t),r=new Date().getTime()-n.getTime(),o=Math.floor(r/6e4),a=Math.floor(r/36e5),i=Math.floor(r/864e5);return o<1?"刚刚":o<60?"".concat(o,"分钟前"):a<24?"".concat(a,"小时前"):i<7?"".concat(i,"天前"):n.toLocaleDateString("zh-CN")},formatDate:t=>e?new Date(t).toLocaleDateString("zh-CN"):"2024/01/01",formatDateTime:t=>e?new Intl.DateTimeFormat("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(new Date(t)):"2024/01/01 09:41"}}},94018:(e,t,n)=>{n.d(t,{JsonPreviewDialog:()=>m});var r=n(95155),o=n(12115),a=n(15452),i=n(97168),s=n(60677),l=n(54416),d=n(24357),c=n(91788),h=n(58497),u=n(38391),p=n(62978);function m(e){let{open:t,onOpenChange:n,page:m,title:g="JSON Schema 预览"}=e,[f,x]=(0,o.useState)(!1),[b,w]=(0,o.useState)(""),[v,y]=(0,o.useState)(""),C=(0,s.useToast)(),N=(0,p.E0)();(0,o.useEffect)(()=>{if(m){let e=JSON.stringify(m,null,2);w(e),y(e.length.toString()+e.slice(0,50).replace(/\s/g,""))}else w(""),y("")},[m]);let j=async()=>{try{await navigator.clipboard.writeText(b),x(!0),setTimeout(()=>x(!1),2e3),C.success("JSON 数据已复制到剪贴板")}catch(e){C.error("复制失败"),console.error("复制失败:",e)}};return(0,r.jsx)(a.Root,{open:t,onOpenChange:n,children:(0,r.jsxs)(a.Portal,{children:[(0,r.jsx)(a.Overlay,{className:"bg-black opacity-50 fixed inset-0 z-50"}),(0,r.jsxs)(a.Content,{className:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white rounded-lg shadow-lg w-[90vw] max-w-4xl h-[80vh] z-50 flex flex-col",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(a.Title,{className:"text-lg font-semibold text-gray-900",children:g}),m&&(0,r.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["页面: ",m.name," | 组件数量: ",m.components.length]})]}),(0,r.jsx)(a.Close,{asChild:!0,children:(0,r.jsx)("button",{className:"text-gray-400 hover:text-gray-600 transition-colors",title:"关闭对话框",children:(0,r.jsx)(l.A,{className:"h-5 w-5"})})})]}),(0,r.jsx)("div",{className:"flex-1 p-6 overflow-hidden",children:(0,r.jsx)("div",{className:"h-full border border-gray-200 rounded-lg overflow-hidden",children:b?(0,r.jsx)(h.A,{language:"json",style:u.A,className:"h-full text-sm",customStyle:{margin:0,padding:"16px",backgroundColor:"#1e1e1e",height:"100%",overflow:"auto"},showLineNumbers:!0,wrapLines:!0,lineNumberStyle:{color:"#858585",fontSize:"12px",marginRight:"16px"},children:b},"json-".concat(v)):(0,r.jsx)("div",{className:"h-full flex items-center justify-center text-gray-500 bg-gray-50",children:"无可用数据"})})}),(0,r.jsxs)("div",{className:"flex items-center justify-between p-6 border-t border-gray-200 bg-gray-50",children:[(0,r.jsxs)("div",{className:"text-sm text-gray-500",children:["大小: ",N.jsonSize," bytes | 组件: ",N.componentCount," 个"]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsxs)(i.$,{variant:"outline",size:"sm",onClick:j,disabled:!b,children:[(0,r.jsx)(d.A,{className:"h-4 w-4 mr-2"}),f?"已复制":"复制"]}),(0,r.jsxs)(i.$,{variant:"default",size:"sm",onClick:()=>{if(m)try{let e="".concat(m.name.replace(/[^a-zA-Z0-9]/g,"")||"H5Page",".json"),t=new Blob([b],{type:"application/json"}),n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download=e,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}catch(e){console.error("下载失败:",e)}},disabled:!b,children:[(0,r.jsx)(c.A,{className:"h-4 w-4 mr-2"}),"下载 JSON"]})]})]})]})]})})}},97168:(e,t,n)=>{n.d(t,{$:()=>d,r:()=>l});var r=n(95155),o=n(12115),a=n(99708),i=n(74466),s=n(53999);let l=(0,i.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-blue-600 text-white hover:bg-blue-700",destructive:"bg-red-600 text-white hover:bg-red-700",outline:"border border-gray-300 bg-white hover:bg-gray-50 hover:text-gray-900",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200",ghost:"hover:bg-gray-100 hover:text-gray-900",link:"text-blue-600 underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=o.forwardRef((e,t)=>{let{className:n,variant:o,size:i,asChild:d=!1,loading:c,leftIcon:h,rightIcon:u,children:p,disabled:m,...g}=e,f=d?a.DX:"button";return(0,r.jsxs)(f,{className:(0,s.cn)(l({variant:o,size:i,className:n})),ref:t,disabled:m||c,...g,children:[c&&(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),!c&&h&&(0,r.jsx)("span",{className:"mr-2",children:h}),p,!c&&u&&(0,r.jsx)("span",{className:"ml-2",children:u})]})});d.displayName="Button"}}]);